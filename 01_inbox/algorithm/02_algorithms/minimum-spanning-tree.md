---
title: minimum-spanning-tree
tags: [algorithm, graph, mst, kruskal, prim, union-find]
aliases: [MST, ìµœì†Œ ì‹ ì¥ íŠ¸ë¦¬, ìµœì†Œ ìŠ¤íŒ¨ë‹ íŠ¸ë¦¬, í¬ë£¨ìŠ¤ì¹¼, í”„ë¦¼]
date modified: 2025-12-18 12:10:00 +09:00
date created: 2025-12-18 12:10:00 +09:00
---

## Minimum Spanning Tree (MST): ìµœì†Œ ë¹„ìš©ìœ¼ë¡œ ì—°ê²°í•˜ê¸°

**ìµœì†Œ ì‹ ì¥ íŠ¸ë¦¬(MST)**ëŠ” ê°€ì¤‘ì¹˜ ê·¸ë˜í”„ì—ì„œ **ëª¨ë“  ì •ì ì„ ì—°ê²°**í•˜ë©´ì„œ, **ê°„ì„ ë“¤ì˜ ê°€ì¤‘ì¹˜ í•©ì´ ìµœì†Œ**ê°€ ë˜ëŠ” íŠ¸ë¦¬ì…ë‹ˆë‹¤.

### ğŸ’¡ Why it matters (Context)

- **ê²½ì œì„±**: ëª¨ë“  ì§€ì ì„ ì—°ê²°í•˜ë˜, ê°€ì¥ ì ì€ ë¹„ìš©(ê¸¸ì´, ì¬ë£Œ, ì‹œê°„)ì„ ë“¤ì—¬ì•¼ í•˜ëŠ” ë¬¸ì œì˜ ì •ë‹µì…ë‹ˆë‹¤.
- **ìˆœí™˜ ì—†ìŒ (Tree)**: ëª¨ë“  ì ì´ ì—°ê²°ë˜ì§€ë§Œ, ì‚¬ì´í´(Cycle)ì€ ì¡´ì¬í•˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤. (ê°„ì„  ê°œìˆ˜ = ì •ì  ê°œìˆ˜ - 1)

---

### ğŸ¢ ì‹¤ë¬´ ì‚¬ë¡€

#### MST í™œìš©
- **í†µì‹ ë§/ê´‘í†µì‹  ë°°ì„ **: ì—¬ëŸ¬ ë„ì‹œë‚˜ ê±´ë¬¼ë“¤ ì‚¬ì´ë¥¼ ìµœì†Œ ê¸¸ì´ì˜ ì¼€ì´ë¸”ë¡œ ëª¨ë‘ ì—°ê²°í•  ë•Œ.
- **ë„ë¡œ/ì² ë„ë§ ì„¤ê³„**: ì ì€ ì˜ˆì‚°ìœ¼ë¡œ ëª¨ë“  ì§€ì—­ì„ ë„ë‹¬ ê°€ëŠ¥í•˜ê²Œ ë§Œë“œëŠ” ìµœì  ê²½ë¡œ ì„¤ê³„.
- **ì „ê¸° íšŒë¡œ ì„¤ê³„ (VLS)**: ì¹© ë‚´ë¶€ì˜ í•€ë“¤ì„ ìµœì†Œ ê±°ë¦¬ì— ë°°ì¹˜í•˜ì—¬ ì‹ í˜¸ ì§€ì—° ìµœì†Œí™”.
- **ì´ë¯¸ì§€ ë¶„í•  (Image Segmentation)**: í”½ì…€ ê°„ì˜ ìœ ì‚¬ë„ë¥¼ ê°€ì¤‘ì¹˜ë¡œ í•˜ì—¬ ìœ ì‚¬í•œ ì˜ì—­ë¼ë¦¬ ë¬¶ê¸°.
- **í´ëŸ¬ìŠ¤í„°ë§**: ë°ì´í„° í¬ì¸íŠ¸ë“¤ì„ ê°€ì¥ ê°€ê¹Œìš´ ê²ƒë¼ë¦¬ ì—°ê²°í•˜ì—¬ ê·¸ë£¹í™”í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì˜ ê¸°ì´ˆ.

---

## ğŸ§­ ì•Œê³ ë¦¬ì¦˜ ë¹„êµ

| ì•Œê³ ë¦¬ì¦˜ | ë°©ì‹ | ë³µì¡ë„ | ì¶”ì²œ ìƒí™© |
|:---|:---|:---|:---|
| **Kruskal** (í¬ë£¨ìŠ¤ì¹¼) | ê°„ì„  ê¸°ë°˜ (Greedy) | $O(E \log E)$ | ê°„ì„ ì´ ì ì€ í¬ì†Œ ê·¸ë˜í”„ (Sparse) â­ |
| **Prim** (í”„ë¦¼) | ì •ì  ê¸°ë°˜ (Greedy) | $O(E \log V)$ | ê°„ì„ ì´ ë§ì€ ë°€ì§‘ ê·¸ë˜í”„ (Dense) |

---

## ğŸ› ï¸ Kruskal's Algorithm (í¬ë£¨ìŠ¤ì¹¼)

**"ê°€ì¥ ê°€ì¤‘ì¹˜ê°€ ë‚®ì€ ê°„ì„ ë¶€í„° ì¼ë‹¨ ë½‘ì•„ë³´ì"** (ì‚¬ì´í´ì´ ìƒê¸°ì§€ ì•Šì„ ë•Œë§Œ!)

### ì‘ë™ ì›ë¦¬
1. ëª¨ë“  ê°„ì„ ì„ ê°€ì¤‘ì¹˜ ê¸°ì¤€ìœ¼ë¡œ **ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬**í•©ë‹ˆë‹¤.
2. ê°€ì¤‘ì¹˜ê°€ ë‚®ì€ ê°„ì„ ë¶€í„° í™•ì¸í•˜ë©°, ë‘ ì •ì ì´ ì•„ì§ ì—°ê²°ë˜ì§€ ì•Šì•˜ë‹¤ë©´ í•©ì¹©ë‹ˆë‹¤.
3. ì´ë¥¼ ìœ„í•´ **[[01_data-structures/disjoint-set|Union-Find]]** ìë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```python
def kruskal(n, edges):
    # edges: (u, v, weight) ë¦¬ìŠ¤íŠ¸
    edges.sort(key=lambda x: x[2])  # ì •ë ¬ í•„ìˆ˜ â­
    
    parent = list(range(n + 1))
    def find(i):
        if parent[i] == i: return i
        parent[i] = find(parent[i])
        return parent[i]

    def union(i, j):
        root_i, root_j = find(i), find(j)
        if root_i != root_j:
            parent[root_i] = root_j
            return True
        return False

    mst_weight = 0
    count = 0
    for u, v, w in edges:
        if union(u, v):
            mst_weight += w
            count += 1
            if count == n - 1: break # ëª¨ë“  ì  ì—°ê²° ì™„ë£Œ
            
    return mst_weight
```

---

## ğŸ› ï¸ Prim's Algorithm (í”„ë¦¼)

**"ì„ì˜ì˜ ì‹œì‘ì ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ì •ì ì„ í•˜ë‚˜ì”© í™•ì¥í•˜ì"**

### ì‘ë™ ì›ë¦¬
1. ì„ì˜ì˜ ì •ì ì„ ì‹œì‘ì ìœ¼ë¡œ ì¡ìŠµë‹ˆë‹¤.
2. í˜„ì¬ íŠ¸ë¦¬ì—ì„œ ê°ˆ ìˆ˜ ìˆëŠ” ì •ì  ì¤‘ **ê°€ì¤‘ì¹˜ê°€ ìµœì†Œì¸ ê°„ì„ **ì„ ì„ íƒí•©ë‹ˆë‹¤. (**[[01_data-structures/heap-and-priority-queue|Min Heap]]** ì‚¬ìš©)
3. ì—°ê²°ëœ ì •ì ì´ ë°©ë¬¸í•˜ì§€ ì•Šì€ ê³³ì´ë¼ë©´ ì¶”ê°€í•˜ê³  ë°˜ë³µí•©ë‹ˆë‹¤.

```python
import heapq

def prim(n, graph, start=1):
    # graph: {node: [(neighbor, weight), ...]}
    visited = [False] * (n + 1)
    min_heap = [(0, start)] # (ê°€ì¤‘ì¹˜, ë…¸ë“œ)
    mst_weight = 0
    count = 0
    
    while min_heap:
        w, u = heapq.heappop(min_heap)
        if visited[u]: continue
        
        visited[u] = True
        mst_weight += w
        count += 1
        
        for v, weight in graph[u]:
            if not visited[v]:
                heapq.heappush(min_heap, (weight, v))
                
    return mst_weight if count == n else -1
```

---

## ğŸš¨ í”í•œ ì‹¤ìˆ˜ (Common Mistakes)

1. **ì •ë ¬ ë§ê° (Kruskal)** âŒ
   - ê°„ì„ ì„ ê°€ì¤‘ì¹˜ ìˆœìœ¼ë¡œ ì •ë ¬í•˜ì§€ ì•Šìœ¼ë©´ ê·¸ë¦¬ë”” ì†ì„±ì´ ê¹¨ì ¸ MSTë¥¼ êµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
2. **ì‚¬ì´í´ íŒë³„ ëˆ„ë½** âŒ
   - Kruskalì—ì„œ Union-Find ì—†ì´ ê°„ì„ ì„ ê·¸ëƒ¥ ë½‘ìœ¼ë©´ íŠ¸ë¦¬ê°€ ì•„ë‹Œ ì‚¬ì´í´ì´ í¬í•¨ëœ ê·¸ë˜í”„ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. **ë°©ë¬¸ ì²´í¬ ì¤‘ë³µ (Prim)**
   - í™ì—ì„œ êº¼ë‚¸ ì§í›„ `visited[u]` ì²´í¬ë¥¼ í•˜ì§€ ì•Šìœ¼ë©´ ì¤‘ë³µ ì²˜ë¦¬ë¡œ ì¸í•´ ì„±ëŠ¥ì´ ì €í•˜ë©ë‹ˆë‹¤.
4. **ì—°ê²°ì„± í™•ì¸**
   - ëª¨ë“  ì •ì ì´ ì—°ê²°ë˜ì§€ ì•Šì€ ê·¸ë˜í”„(Disconnected)ì¼ ê²½ìš°, MSTëŠ” ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê²°ê³¼ ê°„ì„  ê°œìˆ˜ê°€ `n-1`ì¸ì§€ í™•ì¸í•˜ì„¸ìš”.

---

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ
- [[01_data-structures/disjoint-set|ì„œë¡œì†Œ ì§‘í•©]] - í¬ë£¨ìŠ¤ì¹¼ ì•Œê³ ë¦¬ì¦˜ì˜ ì‚¬ì´í´ íŒë³„ ì—”ì§„
- [[01_data-structures/heap-and-priority-queue|í™ê³¼ ìš°ì„ ìˆœìœ„ í]] - í”„ë¦¼ ì•Œê³ ë¦¬ì¦˜ì˜ ìµœì†Œ ê°„ì„  íƒìƒ‰ ì—”ì§„
- [[02_algorithms/shortest-path|ìµœë‹¨ ê²½ë¡œ ì•Œê³ ë¦¬ì¦˜]] - MSTì™€ ë‹¤ìµìŠ¤íŠ¸ë¼(Dijkstra)ì˜ ê°œë…ì  ì°¨ì´
- [[02_algorithms/greedy|ê·¸ë¦¬ë”” ì•Œê³ ë¦¬ì¦˜]] - MST ì„¤ê³„ì˜ ê·¼ê°„ì´ ë˜ëŠ” íƒìš•ì  ì„ íƒ ì „ëµ
- [[01_data-structures/tree-and-graph|íŠ¸ë¦¬ì™€ ê·¸ë˜í”„]] - ê·¸ë˜í”„ ë‚´ ìˆ˜ë§ì€ ìŠ¤íŒ¨ë‹ íŠ¸ë¦¬ ì¤‘ ìµœì†Œë¥¼ ì°¾ëŠ” ë¬¸ì œ
