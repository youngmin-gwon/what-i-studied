---
title: geometry-fundamentals
tags: [algorithm, geometry, ccw, math, line-intersection]
aliases: [ê¸°í•˜ ê¸°ì´ˆ, CCW, ì„ ë¶„ êµì°¨, ìš©ì˜¤ë¦„]
date modified: 2025-12-18 15:48:00 +09:00
date created: 2025-12-18 15:48:00 +09:00
---

## Geometry Fundamentals: ê¸°í•˜ ì•Œê³ ë¦¬ì¦˜ì˜ ê¸°ì´ˆ

ê¸°í•˜ ì•Œê³ ë¦¬ì¦˜ì€ ì , ì„ , ë©´ì˜ ê´€ê³„ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤. ìˆ˜ì¹˜ì  ì˜¤ì°¨ì™€ ì˜ˆì™¸ ì¼€ì´ìŠ¤ ì²˜ë¦¬ê°€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.

### ðŸ’¡ Why it matters (Context)

- **ë°©í–¥ íŒë³„**: ì„¸ ì ì˜ ìœ„ì¹˜ ê´€ê³„ê°€ ì‹œê³„ ë°©í–¥ì¸ê°€, ë°˜ì‹œê³„ ë°©í–¥ì¸ê°€?
- **ì¶©ëŒ ê°ì§€**: ë‘ ì„ ë¶„ì´ ì„œë¡œ ë§Œë‚˜ëŠ”ê°€?
- **ë‹¤ê°í˜• ë¶„ì„**: ì ì´ ë‹¤ê°í˜• ë‚´ë¶€ì— ìžˆëŠ”ê°€? ë©´ì ì€ ì–¼ë§ˆì¸ê°€?

---

## ðŸ”„ CCW (Counter-Clockwise)

ê¸°í•˜ ì•Œê³ ë¦¬ì¦˜ì˜ í•µì‹¬ ì—”ì§„ìž…ë‹ˆë‹¤. ì„¸ ì  $A, B, C$ì˜ ë°©í–¥ì„±ì„ ì¡°ì‚¬í•©ë‹ˆë‹¤.

### ðŸ”§ ìˆ˜í•™ì  ì›ë¦¬ (ì™¸ì )
ì„¸ ì  $(x_1, y_1), (x_2, y_2), (x_3, y_3)$ì— ëŒ€í•´:
$$D = (x_1y_2 + x_2y_3 + x_3y_1) - (y_1x_2 + y_2x_3 + y_3x_1)$$

- **$D > 0$**: ë°˜ì‹œê³„ ë°©í–¥ (CCW)
- **$D < 0$**: ì‹œê³„ ë°©í–¥ (CW)
- **$D = 0$**: ì¼ì§ì„  (Collinear)

```python
def ccw(p1, p2, p3):
    val = (p1[0]*p2[1] + p2[0]*p3[1] + p3[0]*p1[1]) - \
          (p1[1]*p2[0] + p2[1]*p3[0] + p3[1]*p1[0])
    if val > 0: return 1   # CCW
    if val < 0: return -1  # CW
    return 0               # ì¼ì§ì„ 
```

---

## âš¡ ì„ ë¶„ êµì°¨ íŒë³„ (Line Segment Intersection)

ë‘ ì„ ë¶„ $AB$ì™€ $CD$ê°€ êµì°¨í•˜ëŠ”ì§€ íŒë³„í•  ë•Œ CCWë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

### ðŸ”§ ë¡œì§
ë‘ ì„ ë¶„ì´ êµì°¨í•˜ë ¤ë©´:
1. $CCW(A, B, C) \times CCW(A, B, D) \le 0$
2. $CCW(C, D, A) \times CCW(C, D, B) \le 0$
(ë‹¨, ì¼ì§ì„ ìƒì— ìžˆëŠ” ê²½ìš° ì¶”ê°€ì ì¸ ë²”ìœ„ ì²´í¬ í•„ìš”)

---

## ðŸš¨ í”í•œ ì‹¤ìˆ˜ (Common Mistakes)

1. **ë¶€ë™ ì†Œìˆ˜ì  ì˜¤ì°¨** âŒ
   - `== 0` ë¹„êµ ëŒ€ì‹  `abs(val) < EPS`ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”. (ì •ìˆ˜ ì¢Œí‘œë¼ë©´ ì•ˆì „)
2. **ì¼ì§ì„  ì¼€ì´ìŠ¤ ëˆ„ë½**
   - ë„¤ ì ì´ ì¼ì§ì„ ìƒì— ìžˆì„ ë•Œ ê²¹ì¹˜ëŠ”ì§€ ì•ˆ ê²¹ì¹˜ëŠ”ì§€ ë³„ë„ ì²˜ë¦¬ë¥¼ ìžŠëŠ” ê²½ìš°ê°€ ë§ŽìŠµë‹ˆë‹¤.
3. **ì˜¤ë²„í”Œë¡œìš°**
   - ì¢Œí‘œ ê³±ì…ˆ ì‹œ $10^9 \times 10^9$ì€ $10^{18}$ì´ ë˜ë¯€ë¡œ 64ë¹„íŠ¸ ì •ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

---

## ðŸ“š ê´€ë ¨ ë¬¸ì„œ

- [ìˆ˜í•™ì  ê¸°ì´ˆ](../04_math/gcd-lcm.md) - ë²¡í„°ì™€ ì¢Œí‘œ ì—°ì‚°
- [ë¶€ë™ ì†Œìˆ˜ì  ê°€ì´ë“œ](../00_fundamentals/floating-point-guide.md) - ê¸°í•˜ ì—°ì‚°ì˜ ì •ë°€ë„ ë¬¸ì œ
- [ë³¼ë¡ ê»ì§ˆ](convex-hull.md) - CCWë¥¼ í™œìš©í•œ ë‹¤ê°í˜• ìƒì„±
- [í‰ë©´ ìŠ¤ìœ„í•‘](line-sweep.md) - ëŒ€ëŸ‰ì˜ ê¸°í•˜ ê°ì²´ ì²˜ë¦¬ ìµœì í™”
