---
title: ftp-protocol
tags: [application, file-transfer, ftp, networking, protocol]
aliases: [Active Mode, File Transfer Protocol, FTP, Passive Mode]
date modified: 2026-01-08 16:14:24 +09:00
date created: 2026-01-08 16:06:40 +09:00
---

## ğŸŒ ê°œìš” (Overview)

**FTP (File Transfer Protocol)** ëŠ” íŒŒì¼ ì „ì†¡ì„ ìœ„í•œ í”„ë¡œí† ì½œë¡œ, **ì œì–´ ì±„ë„**ê³¼ **ë°ì´í„° ì±„ë„**ì„ ë¶„ë¦¬í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.

## ğŸ“‹ FTP í¬íŠ¸

| í¬íŠ¸ | ìš©ë„ |
|:----:|------|
| **TCP 21** | ì œì–´ ì±„ë„ (Control) - ëª…ë ¹ì–´ ì „ì†¡ |
| **TCP 20** | ë°ì´í„° ì±„ë„ (Data) - Active ëª¨ë“œ |

---

## ğŸ”„ FTP ë™ì‘ ëª¨ë“œ

### 1. Active Mode (ëŠ¥ë™ ëª¨ë“œ)

```mermaid
sequenceDiagram
    participant C as Client<br/>IP: 10.0.0.1
    participant S as Server<br/>IP: 200.1.1.1
    
    C->>S: 1. Connect to port 21 (Control)
    C->>S: 2. PORT 10,0,0,1,4,1 (Port 1025)
    Note over S: í´ë¼ì´ì–¸íŠ¸ IP/Port ìˆ˜ì‹ 
    S->>C: 3. Connect from port 20 to Client:1025
    Note over S,C: ë°ì´í„° ì „ì†¡
```

**ê³¼ì •**:
1. í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ 21 ë²ˆ í¬íŠ¸ë¡œ ì œì–´ ì—°ê²°
2. í´ë¼ì´ì–¸íŠ¸ê°€ `PORT` ëª…ë ¹ìœ¼ë¡œ ìì‹ ì˜ ë°ì´í„° í¬íŠ¸ ì•Œë¦¼
3. **ì„œë²„ê°€ 20 ë²ˆ í¬íŠ¸ì—ì„œ í´ë¼ì´ì–¸íŠ¸ì— ì—°ê²°**

**âš ï¸ ë¬¸ì œì **: í´ë¼ì´ì–¸íŠ¸ ë°©í™”ë²½ì´ ì™¸ë¶€ì—ì„œì˜ ì—°ê²°ì„ ì°¨ë‹¨í•˜ë©´ ì‹¤íŒ¨

### 2. Passive Mode (ìˆ˜ë™ ëª¨ë“œ)

```mermaid
sequenceDiagram
    participant C as Client<br/>IP: 10.0.0.1
    participant S as Server<br/>IP: 200.1.1.1
    
    C->>S: 1. Connect to port 21 (Control)
    C->>S: 2. PASV
    S->>C: 3. 227 Entering Passive Mode (200,1,1,1,156,65)
    Note over S: Port 40001 = 156*256+65
    C->>S: 4. Connect to Server:40001
    Note over S,C: ë°ì´í„° ì „ì†¡
```

**ê³¼ì •**:
1. í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ 21 ë²ˆ í¬íŠ¸ë¡œ ì œì–´ ì—°ê²°
2. í´ë¼ì´ì–¸íŠ¸ê°€ `PASV` ëª…ë ¹ ì „ì†¡
3. ì„œë²„ê°€ ì„ì˜ì˜ ë°ì´í„° í¬íŠ¸ ì•Œë¦¼
4. **í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì˜ ë°ì´í„° í¬íŠ¸ì— ì—°ê²°**

**âœ… ì¥ì **: í´ë¼ì´ì–¸íŠ¸ ë°©í™”ë²½ ë¬¸ì œ í•´ê²°

---

## ğŸ†š Active vs Passive ë¹„êµ

| íŠ¹ì„± | Active Mode | Passive Mode |
|------|-------------|--------------|
| **ë°ì´í„° ì—°ê²° ì‹œì‘** | ì„œë²„ â†’ í´ë¼ì´ì–¸íŠ¸ | í´ë¼ì´ì–¸íŠ¸ â†’ ì„œë²„ |
| **ì„œë²„ ë°ì´í„° í¬íŠ¸** | ê³ ì • (20 ë²ˆ) | ì„ì˜ í¬íŠ¸ |
| **í´ë¼ì´ì–¸íŠ¸ ë°©í™”ë²½** | ë¬¸ì œ ë°œìƒ ê°€ëŠ¥ | **ë¬¸ì œ ì—†ìŒ** |
| **ì„œë²„ ë°©í™”ë²½** | ë¬¸ì œ ì—†ìŒ | í¬íŠ¸ ë²”ìœ„ ì—´ì–´ì•¼ í•¨ |
| **ëª…ë ¹ì–´** | PORT | PASV |

---

## ğŸ“¨ ì£¼ìš” FTP ëª…ë ¹ì–´

| ëª…ë ¹ì–´ | ì„¤ëª… |
|--------|------|
| **USER** | ì‚¬ìš©ì ì´ë¦„ |
| **PASS** | ë¹„ë°€ë²ˆí˜¸ |
| **PORT** | Active ëª¨ë“œ ë°ì´í„° í¬íŠ¸ ì§€ì • |
| **PASV** | Passive ëª¨ë“œ ìš”ì²­ |
| **LIST** | ë””ë ‰í† ë¦¬ ëª©ë¡ |
| **RETR** | íŒŒì¼ ë‹¤ìš´ë¡œë“œ |
| **STOR** | íŒŒì¼ ì—…ë¡œë“œ |
| **QUIT** | ì—°ê²° ì¢…ë£Œ |
| **TYPE** | ì „ì†¡ ëª¨ë“œ (A=ASCII, I=Binary) |

---

## ğŸ“Š FTP ì‘ë‹µ ì½”ë“œ

| ì½”ë“œ | ì˜ë¯¸ |
|:----:|------|
| **1xx** | ê¸ì •ì  ì˜ˆë¹„ ì‘ë‹µ |
| **2xx** | ê¸ì •ì  ì™„ë£Œ ì‘ë‹µ |
| **3xx** | ê¸ì •ì  ì¤‘ê°„ ì‘ë‹µ |
| **4xx** | ì¼ì‹œì  ë¶€ì • ì‘ë‹µ |
| **5xx** | ì˜êµ¬ì  ë¶€ì • ì‘ë‹µ |

| ì½”ë“œ | ì„¤ëª… |
|:----:|------|
| 150 | íŒŒì¼ ìƒíƒœ OK, ë°ì´í„° ì—°ê²° ì—´ê¸° |
| 200 | ëª…ë ¹ OK |
| 220 | ì„œë¹„ìŠ¤ ì¤€ë¹„ |
| 226 | ë°ì´í„° ì—°ê²° ì¢…ë£Œ |
| 227 | Passive ëª¨ë“œ ì§„ì… |
| 230 | ë¡œê·¸ì¸ ì„±ê³µ |
| 331 | ì‚¬ìš©ì OK, ë¹„ë°€ë²ˆí˜¸ í•„ìš” |
| 421 | ì„œë¹„ìŠ¤ ì‚¬ìš© ë¶ˆê°€ |
| 530 | ë¡œê·¸ì¸ ì‹¤íŒ¨ |

---

## âš ï¸ FTP ë³´ì•ˆ ì·¨ì•½ì 

| ì·¨ì•½ì  | ì„¤ëª… |
|--------|------|
| **í‰ë¬¸ ì „ì†¡** | ID/Password ê°€ ì•”í˜¸í™”ë˜ì§€ ì•ŠìŒ |
| **ë°ì´í„° ë…¸ì¶œ** | íŒŒì¼ ë‚´ìš©ì´ í‰ë¬¸ìœ¼ë¡œ ì „ì†¡ |
| **Bounce Attack** | PORT ëª…ë ¹ ì•…ìš©í•œ í¬íŠ¸ ìŠ¤ìº” |

### Secure FTP ëŒ€ì•ˆ

| í”„ë¡œí† ì½œ | í¬íŠ¸ | ì„¤ëª… |
|----------|:----:|------|
| **FTPS** | 990 | FTP over TLS/SSL |
| **SFTP** | 22 | FTP over SSH |
| **SCP** | 22 | Secure Copy (SSH) |

---

## ğŸ”§ TFTP (Trivial FTP)

**ê°„ë‹¨í•œ íŒŒì¼ ì „ì†¡**ì„ ìœ„í•œ ê²½ëŸ‰ í”„ë¡œí† ì½œì…ë‹ˆë‹¤.

| íŠ¹ì„± | FTP | TFTP |
|------|-----|------|
| **í”„ë¡œí† ì½œ** | TCP | **UDP** |
| **í¬íŠ¸** | 21/20 | **69** |
| **ì¸ì¦** | ID/Password | **ì—†ìŒ** |
| **ê¸°ëŠ¥** | í’ë¶€í•¨ | ìµœì†Œí™” |
| **ìš©ë„** | ì¼ë°˜ íŒŒì¼ ì „ì†¡ | íŒì›¨ì–´ ì—…ë¡œë“œ, PXE ë¶€íŒ… |

**âš ï¸ ë³´ì•ˆ ì£¼ì˜**: TFTP ëŠ” ì¸ì¦ì´ ì—†ì–´ ë„¤íŠ¸ì›Œí¬ ë¶€íŒ… ë“± ì œí•œëœ í™˜ê²½ì—ì„œë§Œ ì‚¬ìš©

---

## ğŸ’¡ ì‹¤ë¬´ ëª…ë ¹ì–´

```bash
# FTP ì ‘ì†
ftp ftp.example.com

# ëª…ë ¹ì–´ ì˜ˆì‹œ
ftp> open ftp.example.com
ftp> user username
ftp> pass password
ftp> ls
ftp> cd /pub
ftp> get file.txt
ftp> put local.txt
ftp> bye

# Passive ëª¨ë“œ ì„¤ì •
ftp> passive

# lftp (í™•ì¥ FTP í´ë¼ì´ì–¸íŠ¸)
lftp -u user,password ftp.example.com
```

## ğŸ”— ì—°ê²° ë¬¸ì„œ (Related Documents)

- [[osi-7-layer-model]] - OSI 7 ê³„ì¸µ (ì‘ìš© ê³„ì¸µ)
- [[tcp-udp-protocols]] - TCP í”„ë¡œí† ì½œ
- [[network-security-protocols]] - SFTP, FTPS
- [[http-protocol]] - HTTP í”„ë¡œí† ì½œ
